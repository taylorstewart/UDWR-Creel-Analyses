       %macro freqby(data, byvar, var);
        proc sort data=&data; by &byvar; run;
        proc freq data=&data noprint;
         title3 "Frequency Distributions by &byvar";
         by &byvar;
         tables &var/out=&var;
         run;
         data &var;
          set &var;
          variable='          ';
          variable="&var";
          level=&var;
          drop &var percent;
         run;
         proc print data=&var;
          title "Frequency Distribution by &byvar";
          title2 "For &var";
        run;
        %mend freqby;
